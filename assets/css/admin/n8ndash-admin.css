/**
 * n8nDash Pro Admin Styles
 *
 * @since      1.0.0
 * @package    N8nDash_Pro
 * @subpackage N8nDash_Pro/assets/css/admin
 */

/* ==========================================================================
   Custom Widget Field Management Styles
   ========================================================================== */

/* Field management container */
#n8ndash-custom-widget-fields {
    margin-top: 20px;
    padding: 20px;
    background: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 4px;
}

/* Field row layout */
.n8ndash-field-row {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-bottom: 15px;
}

.n8n-field-type-select {
    flex: 1;
    max-width: 200px;
}

/* Fields list container */
.n8n-fields-list {
    min-height: 100px;
    padding: 15px;
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-top: 10px;
}

.n8n-no-fields {
    color: #666;
    font-style: italic;
    text-align: center;
    margin: 20px 0;
}

/* Individual field item */
.n8n-field-item {
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 15px;
    margin-bottom: 15px;
    position: relative;
}

.n8n-field-item:hover {
    border-color: #007cba;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Field header */
.field-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
}

.field-title {
    font-weight: 600;
    color: #333;
    margin: 0;
}

.field-actions {
    display: flex;
    gap: 5px;
}

/* Field form groups */
.field-form-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 15px;
}

.field-form-group.full-width {
    grid-column: 1 / -1;
}

.field-form-group label {
    display: block;
    font-weight: 500;
    margin-bottom: 5px;
    color: #333;
}

.field-form-group input,
.field-form-group select,
.field-form-group textarea {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
}

.field-form-group input:focus,
.field-form-group select:focus,
.field-form-group textarea:focus {
    border-color: #007cba;
    outline: none;
    box-shadow: 0 0 0 2px rgba(0, 122, 186, 0.2);
}

/* Field options for select/radio */
.field-options-group {
    grid-column: 1 / -1;
    margin-top: 10px;
}

.field-options-input {
    font-family: monospace;
    font-size: 13px;
}

/* File accept field */
.field-accept-group {
    grid-column: 1 / -1;
    margin-top: 10px;
}

.field-accept-input {
    font-family: monospace;
    font-size: 13px;
}

/* Number field attributes */
.field-number-attrs {
    grid-column: 1 / -1;
    display: flex;
    gap: 15px;
    align-items: center;
    margin-top: 10px;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 4px;
}

.field-number-attrs label {
    margin: 0;
    font-size: 13px;
    color: #666;
}

.field-number-attrs input {
    width: 80px;
    margin: 0;
}

/* Remove field button */
.remove-field-btn {
    background: #dc3232;
    color: #fff;
    border: none;
    border-radius: 3px;
    padding: 5px 10px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.remove-field-btn:hover {
    background: #c92626;
    transform: translateY(-1px);
}

/* Required field indicator */
.required {
    color: #dc3232;
    font-weight: bold;
}

/* Field type badge */
.field-type-badge {
    background: #007cba;
    color: #fff;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .field-form-group {
        grid-template-columns: 1fr;
    }
    
    .n8ndash-field-row {
        flex-direction: column;
        align-items: stretch;
    }
    
    .n8n-field-type-select {
        max-width: none;
    }
}

/* ==========================================================================
   General Admin Styles
   ========================================================================== */

.n8ndash-admin-wrap {
    margin-right: 20px;
}

.n8ndash-admin-wrap h1 {
    margin-bottom: 15px;
}

/* Loading States */
.n8ndash-loading {
    position: relative;
    min-height: 100px;
}

.n8ndash-loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin: -10px 0 0 -10px;
    border: 2px solid #f3f3f3;
    border-top: 2px solid #2271b1;
    border-radius: 50%;
    animation: n8ndash-spin 1s linear infinite;
}

@keyframes n8ndash-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ==========================================================================
   Dashboard List Page
   ========================================================================== */

.n8ndash-empty-state {
    text-align: center;
    padding: 60px 20px;
    background: #fff;
    border: 1px solid #c3c4c7;
    border-radius: 4px;
    margin-top: 20px;
}

.n8ndash-empty-state__icon {
    font-size: 48px;
    color: #dcdcde;
    margin-bottom: 20px;
}

.n8ndash-empty-state h2 {
    font-size: 24px;
    margin: 0 0 10px;
    color: #1d2327;
}

.n8ndash-empty-state p {
    color: #646970;
    font-size: 14px;
    margin: 0 0 20px;
}

/* Dashboard Grid */
.n8ndash-dashboards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.n8ndash-dashboard-card {
    background: #fff;
    border: 1px solid #c3c4c7;
    border-radius: 4px;
    padding: 20px;
    position: relative;
    transition: all 0.2s ease;
}

.n8ndash-dashboard-card:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
}

.n8ndash-dashboard-card__header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 10px;
}

.n8ndash-dashboard-card__title {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
}

.n8ndash-dashboard-card__title a {
    text-decoration: none;
    color: #1d2327;
}

.n8ndash-dashboard-card__title a:hover {
    color: #2271b1;
}

.n8ndash-dashboard-card__actions {
    display: flex;
    gap: 5px;
}

.n8ndash-dashboard-card__actions .button {
    padding: 0 8px;
    min-height: 26px;
    line-height: 24px;
}

.n8ndash-dashboard-card__actions .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
}

.n8ndash-dashboard-card__description {
    color: #646970;
    font-size: 14px;
    margin-bottom: 15px;
    line-height: 1.5;
}

.n8ndash-dashboard-card__meta {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    color: #787c82;
    margin-bottom: 10px;
}

.n8ndash-dashboard-card__status {
    position: absolute;
    top: 10px;
    right: 10px;
}

/* Status Badges */
.n8ndash-status {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 3px;
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
}

.n8ndash-status--active {
    background: #d7f7c2;
    color: #0a4b33;
}

.n8ndash-status--inactive {
    background: #f0f0f1;
    color: #646970;
}

/* ==========================================================================
   Dashboard Editor
   ========================================================================== */

.n8ndash-editor-container {
    display: flex;
    gap: 20px;
    margin-top: 20px;
    height: calc(100vh - 150px);
    min-height: 600px;
}

.n8ndash-editor-sidebar {
    width: 300px;
    flex-shrink: 0;
    overflow-y: auto;
}

.n8ndash-editor-main {
    flex: 1;
    background: #fff;
    border: 1px solid #c3c4c7;
    border-radius: 4px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

/* Editor Panels */
.n8ndash-panel {
    background: #fff;
    border: 1px solid #c3c4c7;
    border-radius: 4px;
    padding: 15px;
    margin-bottom: 20px;
}

.n8ndash-panel__title {
    margin: 0 0 15px;
    font-size: 14px;
    font-weight: 600;
    color: #1d2327;
}

/* Form Fields */
.n8ndash-field {
    margin-bottom: 15px;
}

.n8ndash-field label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
    color: #1d2327;
}

.n8ndash-field input[type="text"],
.n8ndash-field input[type="number"],
.n8ndash-field input[type="url"],
.n8ndash-field textarea,
.n8ndash-field select {
    width: 100%;
}

.n8ndash-field .description {
    margin-top: 5px;
    color: #646970;
    font-size: 13px;
}

/* Widget Library */
.n8ndash-widget-library {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.n8ndash-widget-type {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px;
    background: #f6f7f7;
    border: 2px solid #dcdcde;
    border-radius: 4px;
    cursor: move;
    transition: all 0.2s ease;
    text-align: left;
}

.n8ndash-widget-type:hover {
    background: #fff;
    border-color: #2271b1;
    transform: translateX(5px);
}

.n8ndash-widget-type:active {
    transform: scale(0.98);
}

.n8ndash-widget-type .dashicons {
    font-size: 24px;
    width: 24px;
    height: 24px;
    color: #2271b1;
}

.n8ndash-widget-type__label {
    font-weight: 600;
    display: block;
    color: #1d2327;
}

.n8ndash-widget-type__desc {
    font-size: 12px;
    color: #646970;
    display: block;
}

/* Dashboard Actions */
.n8ndash-actions {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.n8ndash-actions .button {
    justify-content: flex-start;
    text-align: left;
}

.n8ndash-actions .button .dashicons {
    margin-right: 5px;
}

/* Editor Header */
.n8ndash-editor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid #dcdcde;
    background: #f6f7f7;
}

.n8ndash-editor-header h2 {
    margin: 0;
    font-size: 18px;
    color: #1d2327;
}

.n8ndash-editor-tools {
    display: flex;
    gap: 5px;
}

/* Dashboard Canvas */
.n8ndash-dashboard-canvas {
    flex: 1;
    position: relative;
    background: #f6f7f7;
    overflow: auto;
}

.n8ndash-dashboard-canvas.show-grid {
    background-image: 
        linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
    background-size: 20px 20px;
}

.n8ndash-canvas-empty {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: #646970;
    font-size: 14px;
}

/* Widgets in Canvas */
.n8ndash-widget {
    position: absolute;
    background: #fff;
    border: 2px solid #dcdcde;
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    min-width: 200px;
    min-height: 150px;
    transition: box-shadow 0.2s ease;
}

.n8ndash-widget:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    border-color: #8c8f94;
}

.n8ndash-widget.ui-draggable-dragging,
.n8ndash-widget.n8ndash-widget-dragging {
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    opacity: 0.9;
    z-index: 1000;
    transform: rotate(2deg);
}

.n8ndash-widget.ui-resizable-resizing {
    border-color: #2271b1;
}

/* Interact.js drag and drop styles */
.n8ndash-widget.n8ndash-widget-dragging {
    border-color: #2271b1;
    box-shadow: 0 8px 25px rgba(34, 113, 177, 0.3);
}

.n8ndash-widget.n8ndash-widget-resizing {
    border-color: #46b450;
}

/* Grid snapping visual feedback */
.n8ndash-dashboard-canvas.show-grid {
    background-image:
        linear-gradient(rgba(34, 113, 177, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(34, 113, 177, 0.1) 1px, transparent 1px);
    background-size: 16px 16px;
}

/* Resize handles for Interact.js */
.n8ndash-widget::after {
    content: '';
    position: absolute;
    bottom: -3px;
    right: -3px;
    width: 12px;
    height: 12px;
    background: #2271b1;
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.2s ease;
    cursor: se-resize;
    z-index: 10;
}

.n8ndash-widget:hover::after {
    opacity: 0.6;
}

.n8ndash-widget.n8ndash-widget-resizing::after {
    opacity: 1;
}

.n8ndash-widget__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    border-bottom: 1px solid #dcdcde;
    cursor: move;
    background: #f6f7f7;
}

.n8ndash-widget__title {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    color: #1d2327;
}

.n8ndash-widget__actions {
    display: flex;
    gap: 5px;
}

.n8ndash-widget__actions button {
    background: none;
    border: none;
    cursor: pointer;
    padding: 2px;
    color: #646970;
    transition: color 0.2s ease;
}

.n8ndash-widget__actions button:hover {
    color: #135e96;
}

.n8ndash-widget__body {
    padding: 15px;
    height: calc(100% - 45px);
}

.n8ndash-widget__placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: #8c8f94;
}

.n8ndash-widget__placeholder .dashicons {
    font-size: 48px;
    width: 48px;
    height: 48px;
    margin-bottom: 10px;
    opacity: 0.5;
}

/* Resize Handles */
.ui-resizable-handle {
    position: absolute;
    background: #2271b1;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.n8ndash-widget:hover .ui-resizable-handle {
    opacity: 0.3;
}

.ui-resizable-handle:hover,
.ui-resizable-resizing .ui-resizable-handle {
    opacity: 1;
}

.ui-resizable-n,
.ui-resizable-s {
    height: 6px;
    left: 0;
    right: 0;
}

.ui-resizable-e,
.ui-resizable-w {
    width: 6px;
    top: 0;
    bottom: 0;
}

.ui-resizable-n { top: -3px; cursor: n-resize; }
.ui-resizable-s { bottom: -3px; cursor: s-resize; }
.ui-resizable-e { right: -3px; cursor: e-resize; }
.ui-resizable-w { left: -3px; cursor: w-resize; }

.ui-resizable-se {
    width: 12px;
    height: 12px;
    right: -6px;
    bottom: -6px;
    cursor: se-resize;
    border-radius: 50%;
}

/* ==========================================================================
   Settings Page
   ========================================================================== */

.n8ndash-settings-container {
    max-width: 800px;
    margin-top: 20px;
}

.n8ndash-settings-section {
    background: #fff;
    border: 1px solid #c3c4c7;
    border-radius: 4px;
    margin-bottom: 20px;
    padding: 20px;
}

.n8ndash-settings-section__title {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 0 0 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid #dcdcde;
    font-size: 18px;
    font-weight: 600;
}

.n8ndash-settings-section__title .dashicons {
    color: #2271b1;
}

/* ==========================================================================
   Modals
   ========================================================================== */

.n8ndash-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    z-index: 100000;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: n8ndash-fade-in 0.2s ease;
}

@keyframes n8ndash-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

.n8ndash-modal__content {
    background: #fff;
    width: 90%;
    max-width: 1200px;
    max-height: 90vh;
    border-radius: 4px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    animation: n8ndash-slide-up 0.3s ease;
}

@keyframes n8ndash-slide-up {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.n8ndash-modal__content--medium {
    max-width: 600px;
}

.n8ndash-modal__content--large {
    max-width: 800px;
    height: 600px;
}

.n8ndash-modal__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid #dcdcde;
    background: #f6f7f7;
}

.n8ndash-modal__title {
    margin: 0;
    font-size: 20px;
    color: #1d2327;
}

.n8ndash-modal__close {
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    color: #646970;
    transition: color 0.2s ease;
}

.n8ndash-modal__close:hover {
    color: #dc3232;
}

.n8ndash-modal__body {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
}

.n8ndash-modal__footer {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    padding: 15px 20px;
    border-top: 1px solid #dcdcde;
    background: #f6f7f7;
}

/* Widget Configuration Modal */
.n8ndash-fieldset {
    border: 1px solid #dcdcde;
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 4px;
}

.n8ndash-fieldset legend {
    font-weight: 600;
    padding: 0 5px;
    color: #1d2327;
}

/* Form Sections */
.n8n-form-section {
    margin-bottom: 30px;
}

.n8n-form-section h3 {
    margin: 0 0 15px;
    font-size: 16px;
    color: #1d2327;
}

.n8n-form-group {
    margin-bottom: 15px;
}

.n8n-form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
    color: #1d2327;
}

.n8n-form-group .required {
    color: #dc3232;
}

/* Field Configuration */
.n8n-fields-list {
    margin-bottom: 20px;
}

.n8n-field-config {
    background: #f6f7f7;
    border: 1px solid #dcdcde;
    border-radius: 4px;
    margin-bottom: 10px;
}

.n8n-field-config-header {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    border-bottom: 1px solid #dcdcde;
    cursor: pointer;
}

.n8n-field-config-header:hover {
    background: #f0f0f1;
}

.n8n-field-type {
    background: #2271b1;
    color: #fff;
    padding: 2px 8px;
    border-radius: 3px;
    font-size: 11px;
    text-transform: uppercase;
    margin-right: 10px;
}

.n8n-field-name {
    flex: 1;
    font-weight: 600;
}

.n8n-remove-field {
    color: #dc3232;
    text-decoration: none;
}

.n8n-remove-field:hover {
    color: #a00;
}

.n8n-field-config-body {
    padding: 15px;
    display: none;
}

.n8n-field-config.open .n8n-field-config-body {
    display: block;
}

.n8n-field-row {
    margin-bottom: 10px;
}

.n8n-field-row label {
    display: block;
    margin-bottom: 5px;
    font-size: 13px;
    font-weight: 600;
}

.n8n-add-field-wrapper {
    display: flex;
    gap: 10px;
    align-items: center;
}

.n8n-add-field-button {
    display: flex;
    align-items: center;
    gap: 5px;
}

/* ==========================================================================
   Responsive Design
   ========================================================================== */

@media screen and (max-width: 1200px) {
    .n8ndash-dashboards-grid {
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    }
}

@media screen and (max-width: 782px) {
    .n8ndash-editor-container {
        flex-direction: column;
        height: auto;
    }
    
    .n8ndash-editor-sidebar {
        width: 100%;
        order: 2;
    }
    
    .n8ndash-editor-main {
        min-height: 500px;
        order: 1;
    }
    
    .n8ndash-dashboards-grid {
        grid-template-columns: 1fr;
    }
    
    .n8ndash-modal__content {
        width: 100%;
        height: 100%;
        max-width: none;
        max-height: none;
        border-radius: 0;
    }
}

/* ==========================================================================
   Utility Classes
   ========================================================================== */

.n8ndash-text-center {
    text-align: center;
}

.n8ndash-mt-20 {
    margin-top: 20px;
}

.n8ndash-mb-20 {
    margin-bottom: 20px;
}

.n8ndash-hidden {
    display: none !important;
}

/* Fullscreen Mode */
.n8ndash-fullscreen .n8ndash-editor-main {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 100000;
    margin: 0;
    border-radius: 0;
}

/* Debug Console */
.n8ndash-debug-content {
    background: #23282d;
    color: #0f0;
    padding: 20px;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    line-height: 1.5;
    overflow: auto;
    height: 100%;
    margin: 0;
    white-space: pre-wrap;
}

/* Notices */
.n8ndash-notice {
    padding: 12px;
    margin: 15px 0;
    border-left: 4px solid;
    background: #fff;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.04);
}

.n8ndash-notice-success {
    border-left-color: #46b450;
}

.n8ndash-notice-error {
    border-left-color: #dc3232;
}

.n8ndash-notice-warning {
    border-left-color: #ffb900;
}

.n8ndash-notice-info {
    border-left-color: #00a0d2;
}

/* ==========================================================================
   Enhanced Widget Styling - n8nDash Theme Colors
   ========================================================================== */

/* Theme Color Variables */
:root {
    --n8ndash-ocean-primary: #2563eb;
    --n8ndash-ocean-secondary: #1e40af;
    --n8ndash-ocean-accent: #3b82f6;
    --n8ndash-ocean-light: #dbeafe;
    
    --n8ndash-emerald-primary: #059669;
    --n8ndash-emerald-secondary: #047857;
    --n8ndash-emerald-accent: #10b981;
    --n8ndash-emerald-light: #d1fae5;
    
    --n8ndash-orchid-primary: #7c3aed;
    --n8ndash-orchid-secondary: #6d28d9;
    --n8ndash-orchid-accent: #8b5cf6;
    --n8ndash-orchid-light: #ede9fe;
    
    --n8ndash-citrus-primary: #ea580c;
    --n8ndash-citrus-secondary: #dc2626;
    --n8ndash-citrus-accent: #f97316;
    --n8ndash-citrus-light: #fed7aa;
}

/* Enhanced Widget Headers with Gradients */
.n8ndash-widget__header {
    background: linear-gradient(135deg, #f6f7f7 0%, #e5e7eb 100%);
    border-bottom: 2px solid #e5e7eb;
    position: relative;
    overflow: hidden;
}

.n8ndash-widget__header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--n8ndash-ocean-primary), var(--n8ndash-emerald-primary), var(--n8ndash-orchid-primary), var(--n8ndash-citrus-primary));
    opacity: 0.8;
}

/* Theme-specific Widget Headers */
.n8ndash-widget[data-theme="ocean"] .n8ndash-widget__header {
    background: linear-gradient(135deg, var(--n8ndash-ocean-light) 0%, #bfdbfe 100%);
}

.n8ndash-widget[data-theme="ocean"] .n8ndash-widget__header::before {
    background: linear-gradient(90deg, var(--n8ndash-ocean-primary), var(--n8ndash-ocean-accent));
}

.n8ndash-widget[data-theme="emerald"] .n8ndash-widget__header {
    background: linear-gradient(135deg, var(--n8ndash-emerald-light) 0%, #bbf7d0 100%);
}

.n8ndash-widget[data-theme="emerald"] .n8ndash-widget__header::before {
    background: linear-gradient(90deg, var(--n8ndash-emerald-primary), var(--n8ndash-emerald-accent));
}

.n8ndash-widget[data-theme="orchid"] .n8ndash-widget__header {
    background: linear-gradient(135deg, var(--n8ndash-orchid-light) 0%, #ddd6fe 100%);
}

.n8ndash-widget[data-theme="orchid"] .n8ndash-widget__header::before {
    background: linear-gradient(90deg, var(--n8ndash-orchid-primary), var(--n8ndash-orchid-accent));
}

.n8ndash-widget[data-theme="citrus"] .n8ndash-widget__header {
    background: linear-gradient(135deg, var(--n8ndash-citrus-light) 0%, #fde68a 100%);
}

.n8ndash-widget[data-theme="citrus"] .n8ndash-widget__header::before {
    background: linear-gradient(90deg, var(--n8ndash-citrus-primary), var(--n8ndash-citrus-accent));
}

/* Enhanced Widget Actions with Better Styling */
.n8ndash-widget__actions button {
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    padding: 6px 8px;
    color: #374151;
    transition: all 0.2s ease;
    font-size: 12px;
    min-width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.n8ndash-widget__actions button:hover {
    background: rgba(255, 255, 255, 1);
    border-color: rgba(0, 0, 0, 0.2);
    color: #1f2937;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.n8ndash-widget__actions button.refresh-btn {
    color: var(--n8ndash-ocean-primary);
}

.n8ndash-widget__actions button.refresh-btn:hover {
    background: var(--n8ndash-ocean-light);
    border-color: var(--n8ndash-ocean-primary);
}

.n8ndash-widget__actions button.edit-btn {
    color: var(--n8ndash-emerald-primary);
}

.n8ndash-widget__actions button.edit-btn:hover {
    background: var(--n8ndash-emerald-light);
    border-color: var(--n8ndash-emerald-primary);
}

.n8ndash-widget__actions button.delete-btn {
    color: var(--n8ndash-citrus-secondary);
}

.n8ndash-widget__actions button.delete-btn:hover {
    background: #fef2f2;
    border-color: var(--n8ndash-citrus-secondary);
}

/* Refresh Button Animation */
.n8ndash-widget__actions button.refresh-btn.loading .dashicons {
    animation: spin 1s linear infinite;
}

/* Status Indicators */
.n8ndash-widget-status {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    z-index: 5;
}

.n8ndash-widget-status.status-active {
    background: var(--n8ndash-emerald-primary);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
}

.n8ndash-widget-status.status-error {
    background: var(--n8ndash-citrus-secondary);
    box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.2);
}

.n8ndash-widget-status.status-loading {
    background: var(--n8ndash-ocean-primary);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Enhanced Widget Body Styling */
.n8ndash-widget__body {
    background: #ffffff;
    position: relative;
}

/* Data Widget Enhancements */
.n8ndash-data-widget .widget-value {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 0.5rem;
    text-align: center;
}

.n8ndash-data-widget .widget-label {
    font-size: 0.875rem;
    color: #6b7280;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 500;
}

.n8ndash-data-widget .widget-unit {
    font-size: 1.25rem;
    color: #9ca3af;
    margin-left: 0.25rem;
}

/* Chart Widget Enhancements */
.n8ndash-chart-widget canvas {
    max-height: 300px;
    width: 100% !important;
    height: auto !important;
}

/* Custom Widget Enhancements */
.n8ndash-custom-widget .widget-form {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.n8ndash-custom-widget .widget-form input,
.n8ndash-custom-widget .widget-form select,
.n8ndash-custom-widget .widget-form textarea {
    padding: 8px 12px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 14px;
    transition: border-color 0.2s ease;
}

.n8ndash-custom-widget .widget-form input:focus,
.n8ndash-custom-widget .widget-form select:focus,
.n8ndash-custom-widget .widget-form textarea:focus {
    outline: none;
    border-color: var(--n8ndash-ocean-primary);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.n8ndash-custom-widget .widget-form button {
    background: linear-gradient(135deg, var(--n8ndash-ocean-primary), var(--n8ndash-ocean-accent));
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.n8ndash-custom-widget .widget-form button:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

/* Enhanced Hover Effects */
.n8ndash-widget:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    border-color: #9ca3af;
}

.n8ndash-widget:hover .n8ndash-widget__header::before {
    opacity: 1;
}

/* Widget Configuration Modal Enhancements */
.n8ndash-modal__content {
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
}

.n8ndash-modal__header {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border-bottom: 2px solid #e2e8f0;
}

/* Form Field Enhancements */
.n8n-form-group input[type="text"],
.n8n-form-group input[type="number"],
.n8n-form-group input[type="url"],
.n8n-form-group textarea,
.n8n-form-group select {
    border: 2px solid #e5e7eb;
    border-radius: 6px;
    padding: 10px 12px;
    font-size: 14px;
    transition: all 0.2s ease;
    background: #ffffff;
}

.n8n-form-group input:focus,
.n8n-form-group textarea:focus,
.n8n-form-group select:focus {
    outline: none;
    border-color: var(--n8ndash-ocean-primary);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    background: #fefefe;
}

/* Color Picker Enhancements */
.n8n-color-picker {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-top: 8px;
}

.n8n-color-option {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    border: 2px solid #e5e7eb;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.n8n-color-option:hover {
    transform: scale(1.1);
    border-color: #9ca3af;
}

.n8n-color-option.selected {
    border-color: #1f2937;
    transform: scale(1.1);
}

.n8n-color-option.selected::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-weight: bold;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* Enhanced Button Styling */
.button-primary {
    background: linear-gradient(135deg, var(--n8ndash-ocean-primary), var(--n8ndash-ocean-accent)) !important;
    border-color: var(--n8ndash-ocean-secondary) !important;
    text-shadow: none !important;
    box-shadow: 0 2px 4px rgba(37, 99, 235, 0.2) !important;
    transition: all 0.2s ease !important;
}

.button-primary:hover {
    background: linear-gradient(135deg, var(--n8ndash-ocean-secondary), var(--n8ndash-ocean-primary)) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3) !important;
}

/* Success/Error Messages */
.n8ndash-message {
    padding: 12px 16px;
    border-radius: 6px;
    margin: 16px 0;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 8px;
}

.n8ndash-message.success {
    background: var(--n8ndash-emerald-light);
    color: var(--n8ndash-emerald-secondary);
    border: 1px solid var(--n8ndash-emerald-primary);
}

.n8ndash-message.error {
    background: #fef2f2;
    color: var(--n8ndash-citrus-secondary);
    border: 1px solid var(--n8ndash-citrus-secondary);
}

.n8ndash-message.info {
    background: var(--n8ndash-ocean-light);
    color: var(--n8ndash-ocean-secondary);
    border: 1px solid var(--n8ndash-ocean-primary);
}

/* Loading States */
.n8ndash-widget.loading {
    opacity: 0.7;
    pointer-events: none;
}

.n8ndash-widget.loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 24px;
    height: 24px;
    margin: -12px 0 0 -12px;
    border: 2px solid #f3f3f3;
    border-top: 2px solid var(--n8ndash-ocean-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    z-index: 1000;
}

/* Enhanced Grid Snapping */
.n8ndash-dashboard-canvas.show-grid {
    background-image:
        linear-gradient(rgba(37, 99, 235, 0.08) 1px, transparent 1px),
        linear-gradient(90deg, rgba(37, 99, 235, 0.08) 1px, transparent 1px);
    background-size: 16px 16px;
}

/* Widget Type Indicators */
.n8ndash-widget[data-widget-type="data"]::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    width: 6px;
    height: 6px;
    background: var(--n8ndash-emerald-primary);
    border-radius: 50%;
    z-index: 10;
}

.n8ndash-widget[data-widget-type="chart"]::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    width: 6px;
    height: 6px;
    background: var(--n8ndash-ocean-primary);
    border-radius: 50%;
    z-index: 10;
}

.n8ndash-widget[data-widget-type="custom"]::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    width: 6px;
    height: 6px;
    background: var(--n8ndash-orchid-primary);
    border-radius: 50%;
    z-index: 10;
}

/* === n8nDash Pro – Elegant Dark UI (bundle) === */
:root{
  --n8n-bg:#0b1020;
  --n8n-surface:#0f162b;
  --n8n-card:#121a2f;
  --n8n-text:#e6edf6;
  --n8n-muted:#9aa6b2;
  --n8n-line:rgba(255,255,255,.09);
  --n8n-shadow:0 8px 40px rgba(2,8,23,.35);
  --n8n-radius:16px;
  --n8n-accent:#0ea5e9;
}
.n8n-widget{
  background:var(--n8n-card);
  color:var(--n8n-text);
  border:1px solid var(--n8n-line);
  border-radius:var(--n8n-radius);
  box-shadow:var(--n8n-shadow);
  overflow:hidden;
}
.n8n-widget__header{
  position:relative; z-index:2;
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; padding:12px 14px;
  border-bottom:1px solid var(--n8n-line);
  background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0));
}
.n8n-widget__title{ display:flex; align-items:center; gap:10px; font-weight:700; font-size:18px; }
.n8n-widget__title .icon{
  width:28px; height:28px; border-radius:8px; display:grid; place-items:center;
  background:rgba(255,255,255,.07);
}
.n8n-widget__actions{ display:inline-flex; align-items:center; gap:8px; }
.badge-main{
  border:1px solid rgba(255,255,255,.15);
  background:rgba(14,165,233,.15);
  color:#7dd3fc; border-radius:999px; padding:4px 10px; font-size:12px;
}
.n8n-btn-icon{
  width:32px; height:32px; display:inline-grid; place-items:center; padding:0;
  border-radius:10px; border:1px solid var(--n8n-line);
  background:rgba(255,255,255,.04); color:var(--n8n-text);
  transition:.15s ease;
}
.n8n-btn-icon:hover{ background:rgba(255,255,255,.08); }
.n8n-btn-icon.accent{ border-color:rgba(14,165,233,.45); }
.n8n-widget__body{ padding:14px 16px 16px; }
.n8n-widget__content{ overflow:visible; }
.kpi{ font-size:34px; font-weight:800; letter-spacing:.2px; }
.kpi .delta.up{ color:#22c55e; } .kpi .delta.down{ color:#ef4444; }
.n8n-chart-container{ padding-top:6px; }
.n8n-chart-container canvas{ display:block; }
.n8n-widget__status{ margin-top:10px; color:var(--n8n-muted); font-size:12px; }
.n8n-widget__drag-handle{
  display:inline-flex; width:32px; height:32px; align-items:center; justify-content:center;
  border:1px solid var(--n8n-line); border-radius:8px; cursor:move;
}
.n8n-widget__drag-handle .dashicons{ font-size:16px; line-height:1; }



/* Hide legacy metabox chrome around n8n widgets to avoid double headers */
.n8dash-admin .postbox .postbox-header,
.n8dash-admin .postbox .hndle,
.n8dash-admin .postbox .handlediv{ display:none !important; }
.n8dash-admin .postbox .inside{ padding:0 !important; margin:0 !important; }
.n8dash-admin .postbox{ background:transparent; border:none; box-shadow:none; }



/* n8nDash Pro: remove legacy light chrome so only single widget layout appears */
.n8ndash-widget{ background:transparent !important; border:none !important; box-shadow:none !important; }
.n8ndash-widget__header{ display:none !important; }
.n8ndash-widget__body{ padding:0 !important; height:auto !important; }



/* Scope: inside dashboard canvas only */
#n8ndash-dashboard-canvas .postbox{ background:transparent !important; border:none !important; box-shadow:none !important; }
#n8ndash-dashboard-canvas .postbox .postbox-header,
#n8dash-dashboard-canvas .postbox .hndle,
#n8dash-dashboard-canvas .postbox .handlediv{ display:none !important; }
#n8ndash-dashboard-canvas .postbox .inside{ padding:0 !important; margin:0 !important; }

/* Old shell should not render a box at all */
#n8ndash-dashboard-canvas .n8ndash-widget{ background:transparent !important; border:none !important; box-shadow:none !important; }
#n8ndash-dashboard-canvas .n8ndash-widget__header{ /* themed editor header */ display:flex !important; position:relative; z-index:10; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--n8n-line, #dcdcde); background:linear-gradient(135deg, #f6f7f7 0%, #e5e7eb 100%); border-radius:6px 6px 0 0; }

#n8ndash-dashboard-canvas .n8ndash-widget[data-theme="ocean"] .n8ndash-widget__header{ background:linear-gradient(135deg, var(--n8ndash-ocean-light,#dbeafe) 0%, #bfdbfe 100%); }
#n8ndash-dashboard-canvas .n8ndash-widget[data-theme="emerald"] .n8ndash-widget__header{ background:linear-gradient(135deg, var(--n8ndash-emerald-light,#dcfce7) 0%, #bbf7d0 100%); }
#n8ndash-dashboard-canvas .n8ndash-widget[data-theme="orchid"] .n8ndash-widget__header{ background:linear-gradient(135deg, var(--n8ndash-orchid-light,#ede9fe) 0%, #ddd6fe 100%); }
#n8ndash-dashboard-canvas .n8ndash-widget[data-theme="citrus"] .n8ndash-widget__header{ background:linear-gradient(135deg, var(--n8ndash-citrus-light,#fef3c7) 0%, #fde68a 100%); }
#n8ndash-dashboard-canvas .n8ndash-widget__body{ padding:0 !important; height:auto !important; }

/* Hide inner public widget header to avoid duplicate menus in editor */
#n8ndash-dashboard-canvas .n8n-widget__header{ display:none !important; }


/* Dark header icon buttons */
.n8n-widget__action{
  width:32px; height:32px; display:inline-grid; place-items:center; padding:0;
  border-radius:10px; border:1px solid var(--n8n-line);
  background:rgba(255,255,255,.04); color:var(--n8n-text); transition:.15s ease;
}
.n8n-widget__action:hover{ background:rgba(255,255,255,.08); }
.n8n-widget__action.accent{ border-color:rgba(14,165,233,.45); }

/* Admin header action badges/buttons in editor */
#n8ndash-dashboard-canvas .badge-main{ display:inline-flex; align-items:center; gap:6px; padding:2px 8px; font-size:11px; border-radius:999px; border:1px solid rgba(0,0,0,.1); background:rgba(255,255,255,.8); color:#111827; }
#n8ndash-dashboard-canvas .n8n-widget__action{ background:rgba(255,255,255,.8); color:#111827; border:1px solid rgba(0,0,0,.1); }
#n8ndash-dashboard-canvas .n8n-widget__action:hover{ background:#fff; border-color:rgba(0,0,0,.2); }


/* Kill remaining white background behind metabox content inside canvas */
#n8ndash-dashboard-canvas .postbox .inside{ background:transparent !important; }
#n8ndash-dashboard-canvas .metabox-holder, 
#n8ndash-dashboard-canvas .meta-box-sortables{ background:transparent !important; border:none !important; }

/* ==========================================================================
   Widget Preview Enhancements
   ========================================================================== */

/* Enhanced Widget Preview Styling */
.n8ndash-widget-preview {
    background: #ffffff;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 1rem;
    margin: 0.5rem 0;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
}

.n8ndash-widget-preview:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    border-color: #cbd5e1;
}

/* Widget Preview Container */
.n8ndash-widget-preview-container {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
}

/* Enhanced Widget Preview Header */
.n8ndash-widget-preview-header {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border: 1px solid #e2e8f0;
    border-radius: 8px 8px 0 0;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0;
}

.n8ndash-widget-preview-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: #1e293b;
    margin: 0;
}

.n8ndash-widget-preview-type {
    background: #3b82f6;
    color: #ffffff;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Widget Preview Body */
.n8ndash-widget-preview-body {
    background: #ffffff;
    border: 1px solid #e2e8f0;
    border-top: none;
    border-radius: 0 0 8px 8px;
    padding: 1.5rem;
    min-height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Widget Type Specific Preview Styling */
.n8ndash-widget[data-widget-type="data"] .n8ndash-widget-preview {
    border-left: 4px solid #10b981;
}

.n8ndash-widget[data-widget-type="chart"] .n8ndash-widget-preview {
    border-left: 4px solid #8b5cf6;
}

.n8ndash-widget[data-widget-type="custom"] .n8ndash-widget-preview {
    border-left: 4px solid #f59e0b;
}

/* Enhanced Widget Preview Content */
.n8ndash-widget-preview .n8n-data-widget,
.n8ndash-widget-preview .n8n-chart-widget,
.n8ndash-widget-preview .n8n-custom-widget {
    width: 100%;
    text-align: center;
}

/* KPI Widget Preview Enhancements */
.n8ndash-widget-preview .n8n-kpi {
    text-align: center;
}

.n8ndash-widget-preview .n8n-kpi__value {
    margin-bottom: 1rem;
}

.n8ndash-widget-preview .n8n-kpi__main {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1e293b;
    display: block;
    line-height: 1;
}

.n8ndash-widget-preview .n8n-kpi__delta {
    font-size: 1rem;
    font-weight: 600;
    margin-left: 0.5rem;
}

.n8ndash-widget-preview .n8n-kpi__delta--up {
    color: #10b981;
}

.n8ndash-widget-preview .n8n-kpi__delta--down {
    color: #ef4444;
}

.n8ndash-widget-preview .n8n-kpi__subtitle {
    color: #64748b;
    font-size: 0.875rem;
}

/* Chart Widget Preview Enhancements */
.n8ndash-widget-preview .n8n-chart-container {
    width: 100%;
    height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.n8ndash-widget-preview .n8n-chart-subtitle {
    color: #64748b;
    font-size: 0.75rem;
    margin-top: 0.5rem;
}

/* List Widget Preview Enhancements */
.n8ndash-widget-preview .n8n-list__items {
    list-style: none;
    padding: 0;
    margin: 0;
    text-align: left;
}

.n8ndash-widget-preview .n8n-list__item {
    padding: 0.5rem 0;
    border-bottom: 1px solid #f1f5f9;
}

.n8ndash-widget-preview .n8n-list__item:last-child {
    border-bottom: none;
}

.n8ndash-widget-preview .n8n-list__item a {
    color: #3b82f6;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease;
}

.n8ndash-widget-preview .n8n-list__item a:hover {
    color: #1d4ed8;
}

.n8ndash-widget-preview .n8n-list__item--empty {
    color: #94a3b8;
    font-style: italic;
    text-align: center;
}

/* Widget Preview Footer */
.n8ndash-widget-preview .n8n-widget__footer {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #f1f5f9;
    text-align: center;
}

.n8ndash-widget-preview .n8n-widget__last-updated {
    color: #94a3b8;
    font-size: 0.75rem;
}

/* Debug Info Preview Styling */
.n8ndash-widget-preview .n8n-widget-debug {
    background: #f0f9ff;
    border: 1px solid #0ea5e9;
    border-radius: 6px;
    padding: 0.75rem;
    margin-top: 1rem;
    font-size: 0.75rem;
    color: #0c4a6e;
    line-height: 1.4;
}

/* Widget Preview Loading State */
.n8ndash-widget-preview.loading {
    position: relative;
    min-height: 200px;
}

.n8ndash-widget-preview.loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 24px;
    height: 24px;
    margin: -12px 0 0 -12px;
    border: 2px solid #e2e8f0;
    border-top: 2px solid #3b82f6;
    border-radius: 50%;
    animation: n8ndash-spin 1s linear infinite;
}

/* Widget Preview Empty State */
.n8ndash-widget-preview-empty {
    text-align: center;
    padding: 2rem;
    color: #94a3b8;
}

.n8ndash-widget-preview-empty .dashicons {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    color: #cbd5e1;
}

.n8ndash-widget-preview-empty p {
    margin: 0;
    font-size: 0.875rem;
}

/* Widget Preview Responsive Design */
@media (max-width: 768px) {
    .n8ndash-widget-preview-header {
        padding: 0.75rem 1rem;
        flex-direction: column;
        gap: 0.5rem;
        align-items: flex-start;
    }
    
    .n8ndash-widget-preview-body {
        padding: 1rem;
        min-height: 120px;
    }
    
    .n8ndash-widget-preview .n8n-kpi__main {
        font-size: 2rem;
    }
    
    .n8ndash-widget-preview .n8n-chart-container {
        height: 120px;
    }
}

/* Widget Preview Hover Effects */
.n8ndash-widget:hover .n8ndash-widget-preview {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Widget Preview Focus States */
.n8ndash-widget-preview:focus-within {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Widget Preview Status Indicators */
.n8ndash-widget-preview-status {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #10b981;
}

.n8ndash-widget-preview-status.status-error {
    background: #ef4444;
}

.n8ndash-widget-preview-status.status-loading {
    background: #f59e0b;
    animation: n8ndash-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes n8ndash-pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: .5;
    }
}

/* Widget Preview Grid Layout */
.n8ndash-widget-preview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

/* Widget Preview Card Variants */
.n8ndash-widget-preview-card {
    background: #ffffff;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    overflow: hidden;
    transition: all 0.2s ease;
}

.n8ndash-widget-preview-card:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    border-color: #cbd5e1;
}

.n8ndash-widget-preview-card .n8ndash-widget-preview-header {
    border-radius: 0;
    margin-bottom: 0;
}

.n8ndash-widget-preview-card .n8ndash-widget-preview-body {
    border-radius: 0;
}

/* Widget Preview Compact Mode */
.n8ndash-widget-preview-compact .n8ndash-widget-preview-header {
    padding: 0.75rem 1rem;
}

.n8ndash-widget-preview-compact .n8ndash-widget-preview-body {
    padding: 1rem;
    min-height: 100px;
}

.n8ndash-widget-preview-compact .n8n-kpi__main {
    font-size: 2rem;
}

/* Widget Preview Dark Theme Support */
@media (prefers-color-scheme: dark) {
    .n8ndash-widget-preview {
        background: #1e293b;
        border-color: #334155;
        color: #f1f5f9;
    }
    
    .n8ndash-widget-preview-header {
        background: linear-gradient(135deg, #334155 0%, #1e293b 100%);
        border-color: #334155;
        color: #f1f5f9;
    }
    
    .n8ndash-widget-preview-body {
        background: #1e293b;
        border-color: #334155;
        color: #f1f5f9;
    }
    
    .n8ndash-widget-preview .n8n-kpi__main {
        color: #f1f5f9;
    }
    
    .n8ndash-widget-preview .n8n-kpi__subtitle {
        color: #cbd5e1;
    }
}

